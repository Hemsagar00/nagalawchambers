<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Strength Analyzer | Naga Law Chambers</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@300;400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root {
            --primary: #FFD700;
            --primary-dark: #b8860b;
            --bg: #0a0a0a;
            --card: #121212;
            --text: #e0e0e0;
            --font-heading: 'Playfair Display', serif;
            --font-body: 'Lato', sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-body);
            background: var(--bg);
            color: var(--text);
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            max-width: 800px;
            width: 100%;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            font-family: var(--font-heading);
            color: var(--primary);
            margin: 0;
            font-weight: 400;
            letter-spacing: 3px;
            font-size: 2.5rem;
        }

        .subtitle {
            color: #666;
            font-size: 0.95rem;
            letter-spacing: 2px;
            margin-top: 8px;
            text-transform: uppercase;
        }

        .nav-links {
            margin-top: 20px;
        }

        .nav-links a {
            color: #888;
            text-decoration: none;
            font-size: 0.9rem;
            border: 1px solid rgba(255, 215, 0, 0.2);
            padding: 8px 20px;
            border-radius: 25px;
            transition: 0.3s;
            background: rgba(255, 215, 0, 0.05);
        }

        .nav-links a:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .card {
            background: rgba(18, 18, 18, 0.9);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            border: 1px solid rgba(255, 215, 0, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        textarea {
            width: 100%;
            height: 180px;
            background: #0f0f0f;
            border: 1px solid rgba(255, 215, 0, 0.15);
            color: #fff;
            border-radius: 12px;
            padding: 18px;
            font-family: var(--font-body);
            font-size: 1rem;
            resize: vertical;
            transition: 0.3s;
            margin-top: 15px;
        }

        textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.1);
        }

        .btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #000;
            border: none;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            margin-top: 20px;
            transition: 0.3s;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-transform: uppercase;
            font-family: var(--font-body);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }

        .btn:disabled {
            background: #333;
            color: #666;
            cursor: wait;
            transform: none;
            box-shadow: none;
        }

        #resultArea {
            display: none;
            margin-top: 30px;
        }

        .analysis-box {
            background: var(--card);
            padding: 35px;
            border-radius: 16px;
            border-left: 4px solid var(--primary);
            line-height: 1.9;
            font-size: 1.05rem;
            color: #ddd;
        }

        .analysis-box strong {
            color: #fff;
        }

        .analysis-box h1,
        .analysis-box h2,
        .analysis-box h3 {
            font-family: var(--font-heading);
            color: var(--primary);
            font-size: 1.3rem;
            margin-top: 25px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
            padding-bottom: 8px;
        }

        .analysis-box ul {
            padding-left: 20px;
            margin: 15px 0;
        }

        .analysis-box li {
            margin-bottom: 8px;
        }

        .spinner {
            border: 3px solid rgba(0, 0, 0, 0.1);
            border-top: 3px solid #000;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .whatsapp-link {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: #25D366;
            color: #fff;
            text-decoration: none;
            padding: 16px;
            border-radius: 50px;
            margin-top: 25px;
            font-weight: bold;
            transition: 0.3s;
        }

        .whatsapp-link:hover {
            background: #1ebe57;
            transform: translateY(-2px);
        }
    </style>
</head>

<body>

    <div class="container">
        <header>
            <h1>NAGA LAW <span style="color:#fff">AI</span></h1>
            <div class="subtitle">Case Strength Analyzer</div>
            <div class="nav-links">
                <a href="tools.html"><i class="fa-solid fa-grid"></i> Dashboard</a>
            </div>
        </header>

        <div class="card">
            <h3 style="color:var(--primary); font-family:var(--font-heading); font-weight:400; margin-bottom:10px;">
                Describe Your Case</h3>
            <p style="color:#888; font-size:0.9rem;">Provide the facts, events, and any relevant details. The AI will
                analyze strengths, weaknesses, and next steps.</p>

            <textarea id="caseInput"
                placeholder="Example: 'I lent â‚¹5 lakhs to my friend in 2022. He gave me a cheque which bounced. I have the bank memo. He is now avoiding me...'"></textarea>

            <button class="btn" id="analyzeBtn" onclick="analyzeCase()">
                <i class="fa-solid fa-brain"></i> Analyze Case Strength
            </button>
        </div>

        <div id="resultArea">
            <div class="analysis-box" id="aiResponse"></div>

            <a href="https://wa.me/919515515157?text=Hello%20Advocate,%20I%20used%20your%20Case%20Analyzer.%20I%20need%20proper%20legal%20advice."
                target="_blank" class="whatsapp-link">
                <i class="fa-brands fa-whatsapp"></i> Discuss Case with Advocate
            </a>
        </div>
    </div>

    <script>
        async function analyzeCase() {
            const input = document.getElementById('caseInput').value;
            const btn = document.getElementById('analyzeBtn');
            const resultArea = document.getElementById('resultArea');
            const responseBox = document.getElementById('aiResponse');

            if (input.length < 20) { alert("Please describe your case in more detail."); return; }

            btn.disabled = true;
            btn.innerHTML = '<div class="spinner"></div> AI Analyzing...';
            resultArea.style.display = 'none';

            const modifiedQuery = `TASK: Analyze this legal case from an Indian law perspective. 
        1. Identify the type of case (Civil, Criminal, Revenue, etc.)
        2. List STRENGTHS of the case.
        3. List WEAKNESSES or RISKS.
        4. Suggest NEXT STEPS (e.g., file complaint, send notice, gather evidence).
        5. Keep language simple for a layperson.
        
        CASE FACTS:
        ${input}`;

            try {
                const response = await fetch('gemini_proxy.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ query: modifiedQuery })
                });

                const text = await response.text();

                try {
                    var data = JSON.parse(text);
                } catch (e) {
                    console.error("Server Raw Response:", text);
                    alert("Server Error. Please try again.");
                    btn.disabled = false;
                    btn.innerHTML = '<i class="fa-solid fa-brain"></i> Analyze Case Strength';
                    return;
                }

                if (data && data.candidates && data.candidates[0].content) {
                    const aiText = data.candidates[0].content.parts[0].text;
                    responseBox.innerHTML = marked.parse(aiText);
                    resultArea.style.display = 'block';
                } else if (data.error) {
                    alert("AI Error: " + data.error.message);
                } else {
                    alert("AI is busy. Please try again.");
                }

            } catch (error) {
                console.error('Network Error:', error);
                alert("Connection error. Please check your internet.");
            }

            btn.disabled = false;
            btn.innerHTML = '<i class="fa-solid fa-brain"></i> Analyze Case Strength';
        }
    </script>

</body>

</html>